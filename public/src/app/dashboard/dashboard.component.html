<div id="big_wrapper">
  <div id="topBar">
    <h3 id="activeUser">Welcome: {{activeUser}}</h3>
    <!--logout button-->
    <div class="right" id="optionBar">
      <a (click)="logoutUser()" class="btn btn-primary btn-lg active btn-xs" >logout</a>
    </div>
  </div>

  <div id="onlinePlayers">
    <h5 id="online_header">Look who's online</h5>
    <div *ngFor="let player of players">
      {{player.name}}
    </div>
  </div>

  <div id="rightSpace">

    <!--If we have not yet selected a game profile...-->
    <div *ngIf="!game_profile" id="gameSpace">
      <h1 id="games_title">Games:</h1>
      <div id="game_selector">
        <a (click)="pong()">Pong</a>
        <a (click)="golf()">Golf</a>
      </div>
    </div>
    <br>
    <!--If we've selected a game profile, to load a component-->
    <div *ngIf="game_profile" id="gameSpace">
      <router-outlet></router-outlet>
    </div>
    <!--Global chat space-->
    <div id="chatSpace">
      <div id="messageSpace">
        <div *ngFor='let message of messages'>
          ({{ message.createdAt | date: 'shortTime' }})
          {{ message.name }}: {{ message.message }}
        </div>
      </div>
      
      <form #msgForm='ngForm' (submit)=onSubmit(msgForm)>
        <input id="msg_input" type="text" name="message"
        [(ngModel)]='message_obj.message'
        #message='ngModel'
        required>
        <input id="submitMsg" type="submit" value="Send">
      </form>
      <div *ngIf='message.errors && (msgForm.submitted )' class='red'>
        <li *ngIf='message.errors.required'>Message is required</li>
      </div>
    </div>
  </div>

</div>